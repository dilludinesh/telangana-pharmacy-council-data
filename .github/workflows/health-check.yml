name: Health Check

on:
  schedule:
    - cron: '0 9 * * 0'  # Every Sunday at 9 AM UTC
  workflow_dispatch:

jobs:
  check-website:
    runs-on: ubuntu-latest
    steps:
      - name: Check Website Availability
        run: |
          echo "Checking website status..."
          STATUS=$(curl -o /dev/null -s -w "%{http_code}\n" https://dilludx.github.io/tgpc/)
          
          if [ "$STATUS" -eq 200 ]; then
            echo "✅ Website is UP (Status: $STATUS)"
          else
            echo "❌ Website is DOWN (Status: $STATUS)"
            exit 1
          fi
